"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkDXchart"] = self["webpackChunkDXchart"] || []).push([["instrument-selector"],{

/***/ "./src/chart/containers/instrument-selector/instrument-selector.styled.ts":
/*!********************************************************************************!*\
  !*** ./src/chart/containers/instrument-selector/instrument-selector.styled.ts ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InstrumentSelectorDataStateFailureStyled: () => (/* binding */ InstrumentSelectorDataStateFailureStyled),\n/* harmony export */   MainSymbolSuggestStyled: () => (/* binding */ MainSymbolSuggestStyled)\n/* harmony export */ });\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! styled-components */ \"../node_modules/styled-components/dist/styled-components.browser.esm.js\");\n/* harmony import */ var _chart_kit_Input_Input_styled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chart-kit/Input/Input.styled */ \"./src/chart-kit/Input/Input.styled.ts\");\n/* harmony import */ var _components_symbol_suggest_symbol_suggest_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../components/symbol-suggest/symbol-suggest.component */ \"./src/chart/components/symbol-suggest/symbol-suggest.component.tsx\");\n/* harmony import */ var _components_symbol_suggest_symbol_suggest_styled__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../components/symbol-suggest/symbol-suggest.styled */ \"./src/chart/components/symbol-suggest/symbol-suggest.styled.ts\");\n\n\n\n\n\nconst MainSymbolSuggestStyled = (0,styled_components__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(_components_symbol_suggest_symbol_suggest_component__WEBPACK_IMPORTED_MODULE_1__.SymbolSuggestWithPopover)`\n\t${_components_symbol_suggest_symbol_suggest_styled__WEBPACK_IMPORTED_MODULE_2__.SymbolSuggestInputStyled} {\n\t\tbackground: var(--main_chart-bg);\n\t\twidth: 80px;\n\t\tmax-width: 80px;\n\t\theight: 32px;\n\t\tborder-right: 1px solid var(--main_chart-grid-line);\n\n\t\t&:focus-within {\n\t\t\toutline-offset: -1px;\n\t\t}\n\t}\n\n\t${_chart_kit_Input_Input_styled__WEBPACK_IMPORTED_MODULE_0__.InputContainerStyled} {\n\t\tborder-radius: 0;\n\t}\n\n\t${_chart_kit_Input_Input_styled__WEBPACK_IMPORTED_MODULE_0__.InputStyled} {\n\t\theight: 32px;\n\t\twidth: 80px;\n\t\ttransform: translate(-8px, -7px);\n\t\tpadding: 8px;\n\t\tfont-family: var(--font-main-semibold);\n\t\tfont-size: var(--font-size-m);\n\t\tline-height: var(--line-height-s-px);\n\n\t\t&::placeholder {\n\t\t\tcolor: var(--input-disabled-text);\n\t\t}\n\n\t\t&:disabled {\n\t\t\tcolor: var(--input-disabled-text);\n\t\t}\n\n\t\t&:hover:enabled:not(:focus) {\n\t\t\tbackground-color: var(--dropdown-list_item-hovered-bg);\n\t\t}\n\n\t\t&:hover:disabled {\n\t\t\tbackground-color: var(--main_chart-bg);\n\t\t}\n\n\t\t&::selection {\n\t\t\tbackground: var(--text-selection-bg);\n\t\t}\n\n\t\t&:focus-within,\n\t\t&:active {\n\t\t\toutline-offset: -1px;\n\t\t}\n\n\t\t&[disabled]::selection,\n\t\t&:disabled::selection {\n\t\t\tbackground: var(--main_chart-bg);\n\t\t}\n\t}\n`;\nconst InstrumentSelectorDataStateFailureStyled = styled_components__WEBPACK_IMPORTED_MODULE_3__[\"default\"].div`\n\tposition: absolute;\n\tbottom: 0;\n\tleft: 0;\n\tz-index: 1;\n\theight: 1px;\n\twidth: 79px;\n\tbackground-color: var(--main_chart-candle-bear-body-bg);\n`;\n\n\n//# sourceURL=webpack://DXchart/./src/chart/containers/instrument-selector/instrument-selector.styled.ts?");

/***/ }),

/***/ "./src/chart/containers/instrument-selector/main-instrument-selector.container.tsx":
/*!*****************************************************************************************!*\
  !*** ./src/chart/containers/instrument-selector/main-instrument-selector.container.tsx ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InstrumentSuggestComponent: () => (/* binding */ InstrumentSuggestComponent),\n/* harmony export */   MainInstrumentSelectorContainer: () => (/* binding */ MainInstrumentSelectorContainer),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var fp_ts_rxjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! fp-ts-rxjs */ \"../node_modules/fp-ts-rxjs/es6/ObservableOption.js\");\n/* harmony import */ var fp_ts_Option__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! fp-ts/Option */ \"../node_modules/fp-ts/es6/Option.js\");\n/* harmony import */ var fp_ts_function__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! fp-ts/function */ \"../node_modules/fp-ts/es6/function.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! rxjs */ \"../node_modules/rxjs/dist/esm5/internal/observable/of.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! rxjs/operators */ \"../node_modules/rxjs/dist/esm5/internal/operators/distinctUntilChanged.js\");\n/* harmony import */ var _config_e2e_test_ids__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../config/e2e/test-ids */ \"./src/config/e2e/test-ids.ts\");\n/* harmony import */ var _context_context2__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../context/context2 */ \"./src/context/context2.ts\");\n/* harmony import */ var _utils_named_memo__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../utils/named-memo */ \"./src/utils/named-memo.ts\");\n/* harmony import */ var _utils_property_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../utils/property.utils */ \"./src/utils/property.utils.ts\");\n/* harmony import */ var _utils_react_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../utils/react.utils */ \"./src/utils/react.utils.ts\");\n/* harmony import */ var _utils_resolve_component_with_predicate_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../utils/resolve-component-with-predicate.utils */ \"./src/utils/resolve-component-with-predicate.utils.ts\");\n/* harmony import */ var _utils_use_observable__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../utils/use-observable */ \"./src/utils/use-observable.ts\");\n/* harmony import */ var _components_multi_chart_multi_chart_context__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../components/multi-chart/multi-chart-context */ \"./src/chart/components/multi-chart/multi-chart-context.ts\");\n/* harmony import */ var _instrument_selector_model__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./instrument-selector.model */ \"./src/chart/containers/instrument-selector/instrument-selector.model.ts\");\n/* harmony import */ var _instrument_selector_styled__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./instrument-selector.styled */ \"./src/chart/containers/instrument-selector/instrument-selector.styled.ts\");\n/* harmony import */ var _ui_overrides__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../ui-overrides */ \"./src/chart/ui-overrides/index.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst InstrumentSuggestComponent = _context_context2__WEBPACK_IMPORTED_MODULE_2__.context.combine(\n  _context_context2__WEBPACK_IMPORTED_MODULE_2__.context.key()(\"instrumentSelectorViewModel\"),\n  _context_context2__WEBPACK_IMPORTED_MODULE_2__.context.key()(\"chartDataViewModel\"),\n  _context_context2__WEBPACK_IMPORTED_MODULE_2__.context.key()(\"chartReactConfig\"),\n  (vm, chartDataViewModel, chartReactConfig) => {\n    const InstrumentSuggestComponent2 = (props) => {\n      const { instrument, onInstrumentChanged } = props;\n      const { localization } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_components_multi_chart_multi_chart_context__WEBPACK_IMPORTED_MODULE_8__.MultiChartComponentContext);\n      const [opened, setOpened] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n      const handleClosePopup = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => setOpened(false), []);\n      const handleOpenPopup = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => setOpened(true), []);\n      const onChangeInstrument = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n        (suggest) => {\n          chartDataViewModel.changeInstrument((0,fp_ts_Option__WEBPACK_IMPORTED_MODULE_12__.some)(suggest.symbol));\n          onInstrumentChanged((0,_instrument_selector_model__WEBPACK_IMPORTED_MODULE_9__.toInstrument)(suggest));\n          handleClosePopup();\n        },\n        [handleClosePopup, onInstrumentChanged]\n      );\n      const instruments = (0,_utils_use_observable__WEBPACK_IMPORTED_MODULE_7__.useObservable)(vm.data$, []);\n      const data = instruments.map(_instrument_selector_model__WEBPACK_IMPORTED_MODULE_9__.toSuggest);\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\n        _instrument_selector_styled__WEBPACK_IMPORTED_MODULE_10__.MainSymbolSuggestStyled,\n        {\n          data,\n          selectedInstrument: instrument,\n          placeholder: localization.toolbar.instrumentSelector.placeholder,\n          disabled: !chartReactConfig.instrumentSuggest.enabled,\n          opened,\n          onFocus: handleOpenPopup,\n          initialFocus: false,\n          searchInstruments: vm.searchInstruments,\n          onCloseRequest: handleClosePopup,\n          onBlur: handleClosePopup,\n          onEnter: onChangeInstrument,\n          DataStateNoData: _instrument_selector_styled__WEBPACK_IMPORTED_MODULE_10__.InstrumentSelectorDataStateFailureStyled,\n          testId: _config_e2e_test_ids__WEBPACK_IMPORTED_MODULE_1__.TEST_IDS.suggest_main\n        }\n      );\n    };\n    return InstrumentSuggestComponent2;\n  }\n);\nconst MainInstrumentSelectorContainer = _context_context2__WEBPACK_IMPORTED_MODULE_2__.context.combine(\n  _context_context2__WEBPACK_IMPORTED_MODULE_2__.context.key()(\"chartDataViewModel\"),\n  _context_context2__WEBPACK_IMPORTED_MODULE_2__.context.key()(\"instrumentSelectorViewModel\"),\n  _context_context2__WEBPACK_IMPORTED_MODULE_2__.context.key()(\"chartReactConfig\"),\n  InstrumentSuggestComponent,\n  (chartDataViewModel, vm, chartReactConfig, InstrumentSuggestComponent2) => {\n    const instrumentNameProperty = (0,_utils_property_utils__WEBPACK_IMPORTED_MODULE_4__.convertToProperty)(\n      (0,fp_ts_function__WEBPACK_IMPORTED_MODULE_13__.pipe)(\n        chartDataViewModel.selectedInstrument,\n        fp_ts_rxjs__WEBPACK_IMPORTED_MODULE_14__.getOrElse(() => (0,rxjs__WEBPACK_IMPORTED_MODULE_15__.of)(\"\")),\n        (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.distinctUntilChanged)()\n      ),\n      \"\"\n    );\n    return (0,_utils_resolve_component_with_predicate_utils__WEBPACK_IMPORTED_MODULE_6__.resolveComponentWithPredicate)(\n      chartReactConfig.instrumentSuggest.visible,\n      (0,_utils_named_memo__WEBPACK_IMPORTED_MODULE_3__.namedMemo)(\"InstrumentSelectorContainer\", () => {\n        var _a;\n        const onInstrumentChanged = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((instrument2) => {\n          vm.onChangeInstrument(instrument2);\n        }, []);\n        const instrument = (0,_utils_react_utils__WEBPACK_IMPORTED_MODULE_5__.useProperty)(instrumentNameProperty);\n        const InstrumentSuggest = (_a = (0,_ui_overrides__WEBPACK_IMPORTED_MODULE_11__.useUIOverride)([\"InstrumentSuggest\"])) != null ? _a : InstrumentSuggestComponent2;\n        return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(InstrumentSuggest, { onInstrumentChanged, instrument });\n      })\n    );\n  }\n);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MainInstrumentSelectorContainer);\n\n\n//# sourceURL=webpack://DXchart/./src/chart/containers/instrument-selector/main-instrument-selector.container.tsx?");

/***/ })

}]);